# node mvc 框架

一个简单的mvc框架，使用koa2，nunjucks，sequelize等构建，并添加日志组件log4js和测试框架mocha。

## 如何使用
- clone 项目
git clone 项目地址
- 安装所需依赖
npm install
- 导入sql创建表，实现了登录注册demo，所以需要导入表。sql文件在项目的根目录下，生产环境请不要上传sql文件。
- 测试环境运行项目
npm run dev
- 访问本机地址：http://127.0.0.1:3000

## 如何配置
所有的配置文件在config目录下，都分为dev配置和prod配置，根据开发环境的不同，加载不同的配置文件。

## 如何自定义
- 静态资源是放在assets目录下的，是由assets-handler，我称作静态资源处理器加载的，生产环境建议使用nginx处理静态资源，以获得高效的性能。
- 模板引擎默认使用的是nunjucks，你可以修改template-loader.js（我称它为模板加载器）来加载你喜欢用的模板引擎。
## 关于安全
因为本框架是自己学习过程中搭建，没有刻意考虑安全问题，框架层面nunjuck默认开启了转义，可以避免xss攻击，建议sequelize使用参数绑定的方式生成sql，可以避免sql注入攻击（参考squelize文档）。对于csrf攻击，后期会加入配置开启，并定义中间件处理。
## 声明
该整合框架仅用于学习和测试，如用于生产环境，请自行评估安全性。本框架在整合过程中，参考了大量廖雪峰老师的博客，并根据自己生产环境中使用其他语言框架的经验做了修改。也建议初学者一步步安照廖老师的教程自己搭建属于自己的框架。